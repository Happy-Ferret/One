<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Level3</name>
    <events>
        <comment>Global ruleset</comment>
        <event-block sid="3293301697167224">
            <conditions>
                <condition id="-2" name="On start of layout" sid="2592338343657676" type="System" />
            </conditions>
            <actions>
                <action id="2" name="Stop" sid="2587893189032907" type="Player" />
            </actions>
        </event-block>
        <event-block sid="9743873977497952">
            <conditions>
                <condition id="2" name="Key is down" sid="9230882509627781" type="Keyboard">
                    <param id="0" name="Key">37 (Left arrow)</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="7682039724172335" type="Player">
                    <param id="0" name="Animation">&quot;Back&quot;</param>
                    <param id="1" name="From">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="4714541929238367">
            <conditions>
                <condition id="2" name="Key is down" sid="8870955803284593" type="Keyboard">
                    <param id="0" name="Key">39 (Right arrow)</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="5685148070148913" type="Player">
                    <param id="0" name="Animation">&quot;Forward&quot;</param>
                    <param id="1" name="From">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="2707911422045885">
            <conditions>
                <condition id="2" name="Key is down" sid="6694272475706666" type="Keyboard">
                    <param id="0" name="Key">38 (Up arrow)</param>
                </condition>
                <condition id="2" inverted="1" name="Key is down" sid="5762011614462839" type="Keyboard">
                    <param id="0" name="Key">39 (Right arrow)</param>
                </condition>
                <condition id="2" inverted="1" name="Key is down" sid="8459150304145166" type="Keyboard">
                    <param id="0" name="Key">37 (Left arrow)</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="418104320384674" type="Player">
                    <param id="0" name="Animation">&quot;Back&quot;</param>
                    <param id="1" name="From">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="6178106426113404">
            <conditions>
                <condition id="2" name="Key is down" sid="2250265610860405" type="Keyboard">
                    <param id="0" name="Key">40 (Down arrow)</param>
                </condition>
                <condition id="2" inverted="1" name="Key is down" sid="8909845862945515" type="Keyboard">
                    <param id="0" name="Key">39 (Right arrow)</param>
                </condition>
                <condition id="2" inverted="1" name="Key is down" sid="6262280218031198" type="Keyboard">
                    <param id="0" name="Key">37 (Left arrow)</param>
                </condition>
            </conditions>
            <actions>
                <action id="4" name="Set animation" sid="5116050647352893" type="Player">
                    <param id="0" name="Animation">&quot;Forward&quot;</param>
                    <param id="1" name="From">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="4944624908669917">
            <conditions>
                <condition id="7" name="On any key released" sid="2831277062864033" type="Keyboard" />
            </conditions>
            <actions>
                <action id="2" name="Stop" sid="3076477429683301" type="Player" />
            </actions>
        </event-block>
        <event-block sid="9029086724861412">
            <conditions>
                <condition id="9" inverted="1" name="Is overlapping at offset" sid="7229789064122726" type="Player">
                    <param id="0" name="Object">Tiles</param>
                    <param id="1" name="Offset X">30</param>
                    <param id="2" name="Offset Y">30</param>
                </condition>
            </conditions>
            <actions>
                <action id="-26" name="Restart layout" sid="4303396148193151" type="System" />
                <action id="-11" name="Subtract from" sid="4497241409409686" type="System">
                    <param id="0" name="Variable">Lives</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <comment>Lifebar</comment>
        <event-block sid="804519468942297">
            <conditions>
                <condition id="-14" name="Compare variable" sid="743269155114194" type="System">
                    <param id="0" name="Variable">Lives</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">5</param>
                </condition>
            </conditions>
            <actions>
                <action id="5" name="Set frame" sid="8063139712569338" type="Lifebar">
                    <param id="0" name="Frame number">5</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="852954063266314">
            <conditions>
                <condition id="-14" name="Compare variable" sid="2890283516733499" type="System">
                    <param id="0" name="Variable">Lives</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">4</param>
                </condition>
            </conditions>
            <actions>
                <action id="5" name="Set frame" sid="1460412731080555" type="Lifebar">
                    <param id="0" name="Frame number">4</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="4390816215809298">
            <conditions>
                <condition id="-14" name="Compare variable" sid="5245481364478579" type="System">
                    <param id="0" name="Variable">Lives</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">3</param>
                </condition>
            </conditions>
            <actions>
                <action id="5" name="Set frame" sid="1878396889733993" type="Lifebar">
                    <param id="0" name="Frame number">3</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="1965361456817341">
            <conditions>
                <condition id="-14" name="Compare variable" sid="9429054290605663" type="System">
                    <param id="0" name="Variable">Lives</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">2</param>
                </condition>
            </conditions>
            <actions>
                <action id="5" name="Set frame" sid="462231415619744" type="Lifebar">
                    <param id="0" name="Frame number">2</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="3577091093761616">
            <conditions>
                <condition id="-14" name="Compare variable" sid="9350416911294261" type="System">
                    <param id="0" name="Variable">Lives</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">1</param>
                </condition>
            </conditions>
            <actions>
                <action id="5" name="Set frame" sid="1083296810848551" type="Lifebar">
                    <param id="0" name="Frame number">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="115102011086845">
            <conditions>
                <condition id="-14" name="Compare variable" sid="7755646104120373" type="System">
                    <param id="0" name="Variable">Lives</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="5" name="Set frame" sid="1647520810114456" type="Lifebar">
                    <param id="0" name="Frame number">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="9578031644640419">
            <conditions>
                <condition id="-14" name="Compare variable" sid="4887177254747186" type="System">
                    <param id="0" name="Variable">Lives</param>
                    <param id="1" name="Comparison">2</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Go to layout" sid="581828301180936" type="System">
                    <param id="0" name="Layout">MainMenu</param>
                </action>
            </actions>
        </event-block>
        <comment>Level specific mechanics</comment>
        <event-block sid="3774350551614126">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="6902274072952748" type="System">
                    <param id="0" name="Interval (seconds)">2</param>
                </condition>
                <condition id="-9" name="Is visible" sid="9688294099394939" type="Vanisher" />
            </conditions>
            <actions>
                <action id="-15" name="Set visible" sid="3520200093707238" type="Vanisher">
                    <param id="0" name="Visibility">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="8781417627903237">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="502238065320969" type="System">
                    <param id="0" name="Interval (seconds)">4</param>
                </condition>
                <condition id="-9" inverted="1" name="Is visible" sid="3672235294458847" type="Vanisher" />
            </conditions>
            <actions>
                <action id="-15" name="Set visible" sid="403389489311362" type="Vanisher">
                    <param id="0" name="Visibility">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="5753456092183403">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="9643141643761432" type="Player">
                    <param id="0" name="Object">Vanisher</param>
                </condition>
                <condition id="-9" inverted="1" name="Is visible" sid="7135087039057481" type="Vanisher" />
            </conditions>
            <actions>
                <action id="-26" name="Restart layout" sid="3051936570896524" type="System" />
                <action id="-11" name="Subtract from" sid="1742886608228151" type="System">
                    <param id="0" name="Variable">Lives</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="7246957154894303">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="1996060161770322" type="Player">
                    <param id="0" name="Object">Eraser</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="1756904121185179" type="System">
                    <param id="0" name="Interval (seconds)">0.2</param>
                </condition>
            </conditions>
            <actions>
                <action id="-12" name="Subtract from" sid="778720169055782" type="Eraser">
                    <param id="0" name="Instance variable">Transparency</param>
                    <param id="1" name="Value">10</param>
                </action>
                <action id="-16" name="Set opacity" sid="8005934777947579" type="Eraser">
                    <param id="0" name="Opacity">Eraser.Transparency</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="1049774936659051">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="5826149381390121" type="Player">
                    <param id="0" name="Object">Eraser</param>
                </condition>
                <condition id="-10" name="Compare opacity" sid="2526964404843211" type="Eraser">
                    <param id="0" name="Comparison">2</param>
                    <param id="1" name="Opacity">10</param>
                </condition>
            </conditions>
            <actions>
                <action id="-26" name="Restart layout" sid="6811138768920524" type="System" />
                <action id="-11" name="Subtract from" sid="1115738853223225" type="System">
                    <param id="0" name="Variable">Lives</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="4419020601668713">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="5466483776370774" type="Player">
                    <param id="0" name="Object">Essence_sprite</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="6595094719080406" type="Essence_sprite">
                    <param id="0" name="Unique ID">99</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="131103554632329" type="Essence">
                    <param id="0" name="Unique ID">100</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="3940853420304177" type="Essence" />
                <action id="-10" name="Add to" sid="1916839191238781" type="System">
                    <param id="0" name="Variable">Essences</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="2806698202972365">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="6199570501683617" type="Player">
                    <param id="0" name="Object">Essence_sprite</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="8477769981914671" type="Essence_sprite">
                    <param id="0" name="Unique ID">101</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="866226193906296" type="Essence">
                    <param id="0" name="Unique ID">102</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="5749858619259848" type="Essence" />
                <action id="-10" name="Add to" sid="7099411493331217" type="System">
                    <param id="0" name="Variable">Essences</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="8565135177859623">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="8335201147517114" type="Sprite2">
                    <param id="0" name="Object">Waypoint</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="4523200482390369" type="Waypoint">
                    <param id="0" name="Unique ID">106</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="1461325067201131" type="System">
                    <param id="0" name="Interval (seconds)">0.2</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="0" name="Find path" sid="6177204474190438" type="Sprite2">
                    <param id="0" name="X">Sprite2.X</param>
                    <param id="1" name="Y">10</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="1260715742305808">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="4434725213535618" type="Sprite2">
                    <param id="0" name="Object">Waypoint</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="2777838766415165" type="Waypoint">
                    <param id="0" name="Unique ID">110</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="8516357783433437" type="System">
                    <param id="0" name="Interval (seconds)">0.2</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="0" name="Find path" sid="3654471334620643" type="Sprite2">
                    <param id="0" name="X">600</param>
                    <param id="1" name="Y">Sprite2.Y</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="1789335052159895">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="4077574066970017" type="Sprite2">
                    <param id="0" name="Object">Waypoint</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="2038167388246718" type="Waypoint">
                    <param id="0" name="Unique ID">108</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="733240778811985" type="System">
                    <param id="0" name="Interval (seconds)">0.2</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="0" name="Find path" sid="4223704974235052" type="Sprite2">
                    <param id="0" name="X">500</param>
                    <param id="1" name="Y">Sprite2.Y</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="7856174326320604">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="217756731000424" type="Sprite2">
                    <param id="0" name="Object">Waypoint</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="4657333715236659" type="Waypoint">
                    <param id="0" name="Unique ID">111</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="3406516600860209" type="System">
                    <param id="0" name="Interval (seconds)">0.2</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="0" name="Find path" sid="4170628074820514" type="Sprite2">
                    <param id="0" name="X">Sprite2.X</param>
                    <param id="1" name="Y">190</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="2350419955504999">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="2287121092530841" type="Sprite2">
                    <param id="0" name="Object">Waypoint</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="8169925670457231" type="Waypoint">
                    <param id="0" name="Unique ID">109</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="2231932450212192" type="System">
                    <param id="0" name="Interval (seconds)">0.2</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="0" name="Find path" sid="423655462404123" type="Sprite2">
                    <param id="0" name="X">Sprite2.X</param>
                    <param id="1" name="Y">300</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="4651387425704807">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="2037330546806495" type="Sprite2">
                    <param id="0" name="Object">Waypoint</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="8908680057094588" type="Waypoint">
                    <param id="0" name="Unique ID">112</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="3625831583101069" type="System">
                    <param id="0" name="Interval (seconds)">0.2</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="0" name="Find path" sid="235551725216893" type="Sprite2">
                    <param id="0" name="X">680</param>
                    <param id="1" name="Y">Sprite2.Y</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="4916579037473187">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="2800519345502179" type="Sprite2">
                    <param id="0" name="Object">Waypoint</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="9654888401779721" type="Waypoint">
                    <param id="0" name="Unique ID">107</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="5980073587523634" type="System">
                    <param id="0" name="Interval (seconds)">0.2</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="0" name="Find path" sid="5772210247437826" type="Sprite2">
                    <param id="0" name="X">800</param>
                    <param id="1" name="Y">Sprite2.Y</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="961780380461487">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="8068695241890593" type="Sprite2">
                    <param id="0" name="Object">Waypoint</param>
                </condition>
                <condition id="-14" name="Pick by unique ID" sid="8934888406837518" type="Waypoint">
                    <param id="0" name="Unique ID">113</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="7910347563650222" type="System">
                    <param id="0" name="Interval (seconds)">0.2</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="0" name="Find path" sid="8693116697355045" type="Sprite2">
                    <param id="0" name="X">Sprite2.X</param>
                    <param id="1" name="Y">150</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="8621682202742824">
            <conditions>
                <condition id="-1" name="Every tick" sid="8967947794501485" type="System" />
            </conditions>
            <actions>
                <action id="-3" name="Set position" sid="2351897092665002" type="Particles">
                    <param id="0" name="X">Sprite2.X</param>
                    <param id="1" name="Y">Sprite2.Y-10</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="75695310530072">
            <conditions>
                <condition behavior="Pathfinding" id="0" name="On path found" sid="3673118146562307" type="Sprite2" />
            </conditions>
            <actions>
                <action behavior="Pathfinding" id="1" name="Move along path" sid="2412030039249069" type="Sprite2" />
            </actions>
        </event-block>
        <event-block sid="1619362591942805">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="2541161548957391" type="Player">
                    <param id="0" name="Object">Goal</param>
                </condition>
            </conditions>
            <actions>
                <action id="-2" name="Go to layout" sid="127631206648519" type="System">
                    <param id="0" name="Layout">Level4</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
